{"ast":null,"code":"import React,{useContext}from'react';import styles from'./ItemMode.module.css';import{AppContext}from'../../context/AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ItemCount=function ItemCount(_ref){var item=_ref.item,title=_ref.title,remove=_ref.remove,_ref$editable=_ref.editable,editable=_ref$editable===void 0?false:_ref$editable,showCount=_ref.showCount;var active=item.modules&&item.modules.count?true:false;var _useContext=useContext(AppContext),dispatch=_useContext.dispatch;var handleAdd=function handleAdd(){item.modules.count.value=item.modules.count.value+1;updateItem();};var handleMinus=function handleMinus(){item.modules.count.value=item.modules.count.value>0?item.modules.count.value-1:0;updateItem();};var updateItem=function updateItem(){dispatch({type:'UPDATE_ITEM',payload:item});};var handleRemove=function handleRemove(){delete item.modules.count;dispatch({type:'UPDATE_ITEM',payload:item});showCount(false);};return/*#__PURE__*/_jsx(_Fragment,{children:active&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(editable?styles.modeMain:'',\" \").concat(styles.modeContainer),children:[title&&/*#__PURE__*/_jsx(\"h5\",{children:\"Count\"}),/*#__PURE__*/_jsxs(\"span\",{className:styles.modeWrap,children:[/*#__PURE__*/_jsx(\"i\",{onClick:handleMinus,className:\"material-icons \".concat(styles.iconCount),children:\"remove\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.countValue,children:item.modules.count.value}),/*#__PURE__*/_jsx(\"i\",{onClick:handleAdd,className:\"material-icons \".concat(styles.iconCount),children:\"add\"})]}),remove&&/*#__PURE__*/_jsx(\"i\",{onClick:handleRemove,className:\"material-icons \".concat(styles.iconClose),children:\"close\"})]})});};","map":{"version":3,"sources":["D:/Business/Programming/react_lists/src/components/ItemModes/ItemCount.js"],"names":["React","useContext","styles","AppContext","ItemCount","item","title","remove","editable","showCount","active","modules","count","dispatch","handleAdd","value","updateItem","handleMinus","type","payload","handleRemove","modeMain","modeContainer","modeWrap","iconCount","countValue","iconClose"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,OAASC,UAAT,KAA2B,0BAA3B,C,6IAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAsD,IAApDC,CAAAA,IAAoD,MAApDA,IAAoD,CAA9CC,KAA8C,MAA9CA,KAA8C,CAAvCC,MAAuC,MAAvCA,MAAuC,oBAA/BC,QAA+B,CAA/BA,QAA+B,wBAAtB,KAAsB,eAAfC,SAAe,MAAfA,SAAe,CAC3E,GAAMC,CAAAA,MAAM,CAAGL,IAAI,CAACM,OAAL,EAAgBN,IAAI,CAACM,OAAL,CAAaC,KAA7B,CAAqC,IAArC,CAA4C,KAA3D,CAEA,gBAAqBX,UAAU,CAACE,UAAD,CAA/B,CAAQU,QAAR,aAAQA,QAAR,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBT,IAAI,CAACM,OAAL,CAAaC,KAAb,CAAmBG,KAAnB,CAA2BV,IAAI,CAACM,OAAL,CAAaC,KAAb,CAAmBG,KAAnB,CAA2B,CAAtD,CACAC,UAAU,GACb,CAHD,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBZ,IAAI,CAACM,OAAL,CAAaC,KAAb,CAAmBG,KAAnB,CAA2BV,IAAI,CAACM,OAAL,CAAaC,KAAb,CAAmBG,KAAnB,CAA2B,CAA3B,CAA+BV,IAAI,CAACM,OAAL,CAAaC,KAAb,CAAmBG,KAAnB,CAA2B,CAA1D,CAA8D,CAAzF,CACAC,UAAU,GACb,CAHD,CAIA,GAAMA,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBH,QAAQ,CAAC,CACLK,IAAI,CAAC,aADA,CAELC,OAAO,CAAEd,IAFJ,CAAD,CAAR,CAIH,CALD,CAMA,GAAMe,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,MAAOf,CAAAA,IAAI,CAACM,OAAL,CAAaC,KAApB,CACAC,QAAQ,CAAC,CACLK,IAAI,CAAC,aADA,CAELC,OAAO,CAAEd,IAFJ,CAAD,CAAR,CAIAI,SAAS,CAAC,KAAD,CAAT,CACH,CAPD,CAQA,mBACI,yBACMC,MAAM,eACR,aAAK,SAAS,WAAKF,QAAQ,CAAGN,MAAM,CAACmB,QAAV,CAAqB,EAAlC,aAAwCnB,MAAM,CAACoB,aAA/C,CAAd,WACKhB,KAAK,eAAI,6BADd,cAEI,cAAM,SAAS,CAAEJ,MAAM,CAACqB,QAAxB,wBACI,UAAG,OAAO,CAAEN,WAAZ,CAAyB,SAAS,0BAAoBf,MAAM,CAACsB,SAA3B,CAAlC,oBADJ,cAEI,aAAM,SAAS,CAAEtB,MAAM,CAACuB,UAAxB,UAAqCpB,IAAI,CAACM,OAAL,CAAaC,KAAb,CAAmBG,KAAxD,EAFJ,cAGI,UAAG,OAAO,CAAED,SAAZ,CAAuB,SAAS,0BAAoBZ,MAAM,CAACsB,SAA3B,CAAhC,iBAHJ,GAFJ,CAOKjB,MAAM,eAAI,UAAG,OAAO,CAAEa,YAAZ,CAA0B,SAAS,0BAAoBlB,MAAM,CAACwB,SAA3B,CAAnC,mBAPf,GAFJ,EADJ,CAcH,CAzCM","sourcesContent":["import React, {useContext} from 'react';\r\nimport styles from './ItemMode.module.css';\r\nimport { AppContext } from '../../context/AppContext';\r\n\r\nexport const ItemCount = ({item, title, remove, editable=false, showCount}) => {\r\n    const active = item.modules && item.modules.count ? true : false;\r\n\r\n    const { dispatch } = useContext(AppContext);\r\n\r\n    const handleAdd = () => {\r\n        item.modules.count.value = item.modules.count.value + 1\r\n        updateItem()\r\n    }\r\n    const handleMinus = () => {\r\n        item.modules.count.value = item.modules.count.value > 0 ? item.modules.count.value - 1 : 0;\r\n        updateItem() \r\n    }\r\n    const updateItem = () => {\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n    }\r\n    const handleRemove = () => {\r\n        delete item.modules.count\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n        showCount(false)\r\n    }\r\n    return (\r\n        <>\r\n            { active &&\r\n            <div className={`${editable ? styles.modeMain : ''} ${styles.modeContainer}`}>\r\n                {title && <h5>Count</h5>}\r\n                <span className={styles.modeWrap}>\r\n                    <i onClick={handleMinus} className={`material-icons ${styles.iconCount}`}>remove</i>\r\n                    <span className={styles.countValue}>{item.modules.count.value}</span>\r\n                    <i onClick={handleAdd} className={`material-icons ${styles.iconCount}`}>add</i>\r\n                </span>\r\n                {remove && <i onClick={handleRemove} className={`material-icons ${styles.iconClose}`}>close</i>}\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}