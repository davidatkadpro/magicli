{"ast":null,"code":"import _defineProperty from\"D:/Business/Programming/react_lists/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/Business/Programming/react_lists/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/Business/Programming/react_lists/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Business/Programming/react_lists/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import ItemCard from'../components/ItemCard/ItemCard';import{AppContext}from'../context/AppContext';import styles from'../components/ItemCard/ItemCard.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(){var _useState=useState({title:'',description:'',tags:[],parent:null}),_useState2=_slicedToArray(_useState,2),formInput=_useState2[0],setFormInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addCard=_useState4[0],setAddCard=_useState4[1];var _useContext=useContext(AppContext),items=_useContext.items,dispatch=_useContext.dispatch;var baseItems=_toConsumableArray(items).filter(function(item){return!item.parent;});var handleChange=function handleChange(e){setFormInput(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.name,e.target.value));});};var nextId=function nextId(){return items.reduce(function(id,item){return item.id>id?item.id:id;},0)+1;};var handleSaveCard=function handleSaveCard(e){if(e.charCode===13)handleAddCard(e);};var handleAddCard=function handleAddCard(e){e.preventDefault();if(!formInput.title||/^\\s*$/.test(formInput.title))return;var item=formInput;item.id=nextId();item.index=baseItems.length;dispatch({type:'ADD_ITEM',payload:item});setFormInput({title:'',description:'',tags:[],parent:null});setAddCard(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row \".concat(styles.rows),children:[baseItems.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"col s12 m6 l4 \".concat(styles.cols),children:/*#__PURE__*/_jsx(ItemCard,{item:item,items:items})},item.id);}),/*#__PURE__*/_jsx(\"div\",{className:\"col s12 m6 l4 \".concat(styles.cols),children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-panel \".concat(styles.cardPanel),children:[addCard&&/*#__PURE__*/_jsx(\"div\",{className:\"collapsible-body card-panel \".concat(styles.collapsibleBody),style:{display:'block'},children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title\",className:styles.inputSmall,value:formInput.title,name:\"title\",onChange:handleChange,onKeyPress:handleSaveCard})}),addCard?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddCard,className:\"btn\",children:\"Add\"}),/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return setAddCard(false);},className:\"material-icons right \".concat(styles.iconClose),children:\"close\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h6\",{onClick:function onClick(){return setAddCard(true);},className:\"title\",style:{display:'inline-block',cursor:'pointer'},children:\"Add new card\"}),/*#__PURE__*/_jsx(\"i\",{onClick:function onClick(){return setAddCard(true);},className:\"material-icons right\",style:{cursor:'pointer'},children:\"add\"})]})]})})]})})});}","map":{"version":3,"sources":["D:/Business/Programming/react_lists/src/pages/Dashboard.js"],"names":["React","useContext","useState","ItemCard","AppContext","styles","Dashboard","title","description","tags","parent","formInput","setFormInput","addCard","setAddCard","items","dispatch","baseItems","filter","item","handleChange","e","prev","target","name","value","nextId","reduce","id","handleSaveCard","charCode","handleAddCard","preventDefault","test","index","length","type","payload","rows","map","cols","cardPanel","collapsibleBody","display","inputSmall","iconClose","cursor"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\r\nimport ItemCard from '../components/ItemCard/ItemCard';\r\nimport { AppContext } from '../context/AppContext';\r\nimport styles from '../components/ItemCard/ItemCard.module.css';\r\n\r\nexport default function Dashboard() {\r\n    const [formInput, setFormInput] = useState({title:'', description:'', tags:[], parent:null})\r\n    const [addCard, setAddCard] = useState(false)\r\n\r\n    const { items, dispatch } = useContext(AppContext);\r\n    const baseItems = [...items].filter(item => ! item.parent)\r\n\r\n    const handleChange = (e) => {\r\n        setFormInput(prev => {\r\n            return { ...prev, [e.target.name]:e.target.value }\r\n        })  \r\n    }\r\n    const nextId = () => items.reduce((id, item)=>( item.id > id ? item.id : id), 0) + 1\r\n\r\n    const handleSaveCard = (e) => { if (e.charCode === 13) handleAddCard(e) }\r\n\r\n    const handleAddCard = (e) => {\r\n        e.preventDefault();\r\n        if (! formInput.title || /^\\s*$/.test(formInput.title)) return\r\n\r\n        const item = formInput;\r\n        item.id = nextId();\r\n        item.index = baseItems.length\r\n\r\n        dispatch({\r\n            type:'ADD_ITEM',\r\n            payload: item\r\n        });\r\n        setFormInput({title:'', description:'', tags:[], parent:null})\r\n        setAddCard(false)   \r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n                <div className={`row ${styles.rows}`}>\r\n                    {baseItems.map((item) => ( \r\n                    <div key={item.id} className={`col s12 m6 l4 ${styles.cols}`}>\r\n                        <ItemCard item={item} items={items} />\r\n                    </div>))}\r\n                    <div className={`col s12 m6 l4 ${styles.cols}`}>\r\n                        <div className={`card-panel ${styles.cardPanel}`}>\r\n                            {addCard &&\r\n                            <div className={`collapsible-body card-panel ${styles.collapsibleBody}`} style={{display:'block'}}>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Title\"\r\n                                    className={styles.inputSmall}\r\n                                    value={formInput.title}\r\n                                    name='title'\r\n                                    onChange={handleChange}\r\n                                    onKeyPress={handleSaveCard}\r\n                                />\r\n                            </div>}                                \r\n                            {addCard ? (<>\r\n                            <button onClick={handleAddCard} className=\"btn\">Add</button>\r\n                            <i onClick={() => setAddCard(false)} className={`material-icons right ${styles.iconClose}`}>close</i>\r\n                            </>) : ( <>\r\n                            <h6 onClick={()=>setAddCard(true)} className=\"title\" style={{display:'inline-block',cursor:'pointer'}}>Add new card</h6>\r\n                            <i onClick={()=>setAddCard(true)} className=\"material-icons right\" style={{cursor:'pointer'}}>add</i>\r\n                            </>)} \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}