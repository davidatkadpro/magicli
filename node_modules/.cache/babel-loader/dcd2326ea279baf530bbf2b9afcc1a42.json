{"ast":null,"code":"import React,{useContext}from'react';import styles from'./ItemMode.module.css';import{AppContext}from'../../context/AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var ItemTotal=function ItemTotal(_ref){var item=_ref.item,listItems=_ref.listItems,title=_ref.title,remove=_ref.remove,editable=_ref.editable,showTotal=_ref.showTotal;var active=item.modules&&item.modules.total?true:false;var _useContext=useContext(AppContext),dispatch=_useContext.dispatch;var handleChange=function handleChange(e){item.modules.total.value=Number(e.target.value);updateItem();};var childTotals=function childTotals(){var totals=listItems.reduce(function(count,i){return i.modules&&i.modules.total&&i.modules.total.value>0?count+i.modules.total.value:count;},0);return totals.toFixed(2);};var updateItem=function updateItem(){dispatch({type:'UPDATE_ITEM',payload:item});};var handleRemove=function handleRemove(){delete item.modules.total;dispatch({type:'UPDATE_ITEM',payload:item});showTotal(false);};return/*#__PURE__*/_jsx(_Fragment,{children:active&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(editable?styles.modeMain:'',\" \").concat(styles.modeContainer),children:[editable&&/*#__PURE__*/_jsxs(\"span\",{className:styles.totalWrap,children:[title&&/*#__PURE__*/_jsx(\"h5\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"input\",{className:styles.modeInput,type:\"text\",name:\"total\",value:item.modules.total.value,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"span\",{className:styles.totalWrap,children:[title&&/*#__PURE__*/_jsx(\"h6\",{className:styles.headingChecklist,children:\"Checklist\"}),listItems?/*#__PURE__*/_jsx(\"span\",{className:styles.listTotals,children:childTotals()}):/*#__PURE__*/_jsx(\"span\",{className:styles.listTotals,children:item.modules.total.value.toFixed(2)})]}),remove&&/*#__PURE__*/_jsx(\"i\",{onClick:handleRemove,className:\"material-icons \".concat(styles.iconClose),children:\"close\"})]})});};","map":{"version":3,"sources":["D:/Business/Programming/react_lists/src/components/ItemModes/ItemTotal.js"],"names":["React","useContext","styles","AppContext","ItemTotal","item","listItems","title","remove","editable","showTotal","active","modules","total","dispatch","handleChange","e","value","Number","target","updateItem","childTotals","totals","reduce","count","i","toFixed","type","payload","handleRemove","modeMain","modeContainer","totalWrap","modeInput","headingChecklist","listTotals","iconClose"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react';\r\nimport styles from './ItemMode.module.css';\r\nimport { AppContext } from '../../context/AppContext';\r\n\r\nexport const ItemTotal = ({item, listItems, title, remove, editable, showTotal}) => {\r\n    const active = item.modules && item.modules.total ? true : false;\r\n\r\n    const { dispatch } = useContext(AppContext);\r\n\r\n    const handleChange = (e) => {\r\n        item.modules.total.value = Number(e.target.value);\r\n        updateItem() \r\n    }\r\n\r\n    const childTotals = () => {\r\n        const totals =  listItems.reduce((count, i) => ( ( i.modules && i.modules.total && i.modules.total.value > 0) ? count + i.modules.total.value : count), 0 )\r\n        return totals.toFixed(2);\r\n    }\r\n\r\n    const updateItem = () => {\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n    }\r\n    const handleRemove = () => {\r\n        delete item.modules.total\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: item\r\n        });\r\n        showTotal(false)\r\n    }\r\n    return (\r\n        <>\r\n            { active &&\r\n            <div className={`${editable ? styles.modeMain : ''} ${styles.modeContainer}`}>\r\n                \r\n                { editable &&\r\n                <span className={styles.totalWrap}>\r\n                    {title && <h5>Total</h5>}\r\n                    <input className={styles.modeInput} type=\"text\" name=\"total\" value={item.modules.total.value} onChange={handleChange} />    \r\n                </span>}                \r\n                <span className={styles.totalWrap}>\r\n                    {title && <h6 className={styles.headingChecklist}>Checklist</h6>}\r\n                    { listItems ? (\r\n                        <span className={styles.listTotals}>{childTotals()}</span>   \r\n                    ):(\r\n                        <span className={styles.listTotals}>{item.modules.total.value.toFixed(2)}</span>\r\n                    )}                                     \r\n                </span>\r\n                {remove && <i onClick={handleRemove} className={`material-icons ${styles.iconClose}`}>close</i>}\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}