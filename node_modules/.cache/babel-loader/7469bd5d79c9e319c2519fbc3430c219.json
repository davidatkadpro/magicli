{"ast":null,"code":"import React,{useContext}from'react';import{AppContext}from'../context/AppContext';import{TreeCrawl}from'../ItemTree/TreeCrawl';import{Link,useHistory}from'react-router-dom';import styles from'../ItemTree/TreeCrawl.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ListTree(){var _useContext=useContext(AppContext),items=_useContext.items;var history=useHistory();var build=function build(){var added=[];var crawl=function crawl(parent){var found={};for(var i in items){var item=items[i];if(parent===item.parent&&!added.includes(item.id)){added.push(item.id);found[item.id]={title:item.title};var children=crawl(item.id);if(Object.keys(children).length>0){found[item.id].children=children;}}}return found;};return crawl(null);};var itemTree=build();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"card-panel \".concat(styles.card),children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn secondary right  \".concat(styles.button),onClick:function onClick(){return history.goBack();},children:\"back\"}),Object.keys(itemTree).map(function(key){var item=itemTree[key];return/*#__PURE__*/_jsxs(\"li\",{className:styles.listli,children:[/*#__PURE__*/_jsx(Link,{className:styles.listItems,to:\"/\",children:item.title}),item.children&&/*#__PURE__*/_jsx(TreeCrawl,{items:item.children})]},key);})]})})});}","map":{"version":3,"sources":["D:/Business/Programming/react_lists/src/pages/ListTree.js"],"names":["React","useContext","AppContext","TreeCrawl","Link","useHistory","styles","ListTree","items","history","build","added","crawl","parent","found","i","item","includes","id","push","title","children","Object","keys","length","itemTree","card","button","goBack","map","key","listli","listItems"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,OAASC,SAAT,KAA0B,uBAA1B,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,kCAAnB,C,6IAGA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CAC/B,gBAAkBN,UAAU,CAACC,UAAD,CAA5B,CAAQM,KAAR,aAAQA,KAAR,CAEA,GAAIC,CAAAA,OAAO,CAAGJ,UAAU,EAAxB,CAEA,GAAMK,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAChB,GAAMC,CAAAA,KAAK,CAAG,EAAd,CACA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,MAAD,CAAY,CACtB,GAAMC,CAAAA,KAAK,CAAG,EAAd,CACA,IAAM,GAAIC,CAAAA,CAAV,GAAeP,CAAAA,KAAf,CAAsB,CAClB,GAAIQ,CAAAA,IAAI,CAAGR,KAAK,CAACO,CAAD,CAAhB,CACA,GAAIF,MAAM,GAAKG,IAAI,CAACH,MAAhB,EAA0B,CAAEF,KAAK,CAACM,QAAN,CAAeD,IAAI,CAACE,EAApB,CAAhC,CAAyD,CACrDP,KAAK,CAACQ,IAAN,CAAWH,IAAI,CAACE,EAAhB,EACAJ,KAAK,CAACE,IAAI,CAACE,EAAN,CAAL,CAAiB,CAACE,KAAK,CAACJ,IAAI,CAACI,KAAZ,CAAjB,CACA,GAAIC,CAAAA,QAAQ,CAAGT,KAAK,CAACI,IAAI,CAACE,EAAN,CAApB,CACA,GAAII,MAAM,CAACC,IAAP,CAAYF,QAAZ,EAAsBG,MAAtB,CAA+B,CAAnC,CAAsC,CAACV,KAAK,CAACE,IAAI,CAACE,EAAN,CAAL,CAAeG,QAAf,CAA0BA,QAA1B,CAAmC,CAC7E,CACJ,CACD,MAAOP,CAAAA,KAAP,CACH,CAZD,CAaA,MAAOF,CAAAA,KAAK,CAAC,IAAD,CAAZ,CACH,CAhBD,CAiBA,GAAMa,CAAAA,QAAQ,CAAGf,KAAK,EAAtB,CAGA,mBACA,sCACI,YAAK,SAAS,CAAC,WAAf,uBAEY,YAAI,SAAS,sBAAgBJ,MAAM,CAACoB,IAAvB,CAAb,wBACA,eAAQ,SAAS,gCAA0BpB,MAAM,CAACqB,MAAjC,CAAjB,CAA4D,OAAO,CAAE,yBAAMlB,CAAAA,OAAO,CAACmB,MAAR,EAAN,EAArE,kBADA,CAECN,MAAM,CAACC,IAAP,CAAYE,QAAZ,EAAsBI,GAAtB,CAA0B,SAACC,GAAD,CAAO,CAC9B,GAAId,CAAAA,IAAI,CAAGS,QAAQ,CAACK,GAAD,CAAnB,CACA,mBACA,YAAI,SAAS,CAAExB,MAAM,CAACyB,MAAtB,wBACI,KAAC,IAAD,EAAM,SAAS,CAAEzB,MAAM,CAAC0B,SAAxB,CAAmC,EAAE,CAAC,GAAtC,UAA2ChB,IAAI,CAACI,KAAhD,EADJ,CAEKJ,IAAI,CAACK,QAAL,eACD,KAAC,SAAD,EAAW,KAAK,CAAEL,IAAI,CAACK,QAAvB,EAHJ,GAAmCS,GAAnC,CADA,CAOH,CATA,CAFD,GAFZ,EADJ,EADA,CAoBH","sourcesContent":["import React, {useContext} from 'react'\r\nimport { AppContext } from '../context/AppContext';\r\nimport { TreeCrawl } from '../ItemTree/TreeCrawl';\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nimport styles from '../ItemTree/TreeCrawl.module.css';\r\n\r\n\r\nexport default function ListTree() {\r\n    const { items } = useContext(AppContext);\r\n\r\n    let history = useHistory();\r\n\r\n    const build = () => {\r\n        const added = []\r\n        const crawl = (parent) => {\r\n            const found = {}\r\n            for ( var i in items) {\r\n                var item = items[i];\r\n                if (parent === item.parent && ! added.includes(item.id)) {\r\n                    added.push(item.id);\r\n                    found[item.id] = {title:item.title}\r\n                    var children = crawl(item.id)\r\n                    if (Object.keys(children).length > 0) {found[item.id].children = children}                \r\n                } \r\n            }\r\n            return found\r\n        }\r\n        return crawl(null)\r\n    }\r\n    const itemTree = build()\r\n\r\n\r\n    return (\r\n    <>\r\n        <div className=\"container\">\r\n\r\n                    <ul className={`card-panel ${styles.card}`}>\r\n                    <button className={`btn secondary right  ${styles.button}`} onClick={() => history.goBack()}>back</button>\r\n                    {Object.keys(itemTree).map((key)=>{\r\n                        var item = itemTree[key]\r\n                        return (\r\n                        <li className={styles.listli} key={key}>                    \r\n                            <Link className={styles.listItems} to=\"/\">{item.title}</Link>\r\n                            {item.children &&\r\n                            <TreeCrawl items={item.children} />\r\n                            }                    \r\n                        </li>)             \r\n                    })}\r\n                    </ul>\r\n\r\n        </div></>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}