{"ast":null,"code":"var _jsxFileName = \"D:\\\\Business\\\\Programming\\\\react_lists\\\\src\\\\components\\\\ItemDetail\\\\ItemListItem.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport styles from './ItemDetail.module.css';\nimport { Link } from 'react-router-dom';\nimport { AppContext } from '../../context/AppContext';\nimport { useClickOutside } from '../Helpers/ClickOutside';\nimport { ItemTotal } from '../ItemModes/ItemTotal';\nimport { ItemCount } from '../ItemModes/ItemCount';\nimport { ItemDate } from '../ItemModes/ItemDate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ItemListItem = ({\n  item\n}) => {\n  _s();\n\n  const [checked, setChecked] = useState(item.status || false);\n  const [itemMenu, setItemMenu] = useState(false);\n  const {\n    items,\n    dispatch\n  } = useContext(AppContext);\n  const listItems = [...items].filter(i => i.parent === item.id);\n\n  const nextId = () => items.reduce((id, i) => i.id > id ? i.id : id, 0) + 1;\n\n  const handleChecked = e => {\n    const check = e.target.checked;\n    const listItem = item;\n    listItem.status = check;\n    dispatch({\n      type: 'UPDATE_ITEM',\n      payload: listItem\n    });\n    setChecked(!checked);\n  };\n\n  const handleCopy = () => {\n    let copy = { ...item\n    };\n    copy.id = nextId();\n    copy.index = listItems.length;\n    copy.title = item.title + ' - copy';\n    dispatch({\n      type: 'ADD_ITEM',\n      payload: copy\n    });\n    setItemMenu(false);\n  };\n\n  const handleDelete = () => {\n    dispatch({\n      type: 'DELETE_ITEM',\n      payload: item\n    });\n    setItemMenu(false);\n  };\n\n  let domMenu = useClickOutside(() => {\n    setItemMenu(false);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.warp,\n    children: [itemMenu && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setItemMenu(false),\n        className: styles.underlay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: domMenu,\n        className: `z-depth-5 ${styles.menuWrap}`,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              onClick: () => setItemMenu(false),\n              className: `material-icons ${styles.icon}`,\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: handleCopy,\n            children: \"Copy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Move\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: handleDelete,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: styles.checkBox,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          className: \"filled-in\",\n          checked: checked,\n          onChange: handleChecked\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 52\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 142\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: styles.listItemHeading,\n        style: checked ? {\n          textDecoration: \"line-through\"\n        } : {\n          textDecoration: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/item/${item.id}`,\n          as: `/item/${item.id}`,\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 132\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        onClick: () => setItemMenu(true),\n        className: `material-icons right ${styles.iconHidden}`,\n        children: \"edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ItemTotal, {\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ItemCount, {\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ItemDate, {\n        item: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ItemListItem, \"To88fAHM2f8AVtxiAdXe+zsl4jo=\", false, function () {\n  return [useClickOutside];\n});\n\n_c = ItemListItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemListItem\");","map":{"version":3,"sources":["D:/Business/Programming/react_lists/src/components/ItemDetail/ItemListItem.js"],"names":["React","useState","useContext","styles","Link","AppContext","useClickOutside","ItemTotal","ItemCount","ItemDate","ItemListItem","item","checked","setChecked","status","itemMenu","setItemMenu","items","dispatch","listItems","filter","i","parent","id","nextId","reduce","handleChecked","e","check","target","listItem","type","payload","handleCopy","copy","index","length","title","handleDelete","domMenu","warp","underlay","menuWrap","icon","checkBox","listItemHeading","textDecoration","iconHidden"],"mappings":"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","sourcesContent":["import React, {useState,useContext} from 'react'\r\n\r\nimport styles from './ItemDetail.module.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppContext } from '../../context/AppContext';\r\nimport { useClickOutside } from '../Helpers/ClickOutside';\r\n\r\nimport { ItemTotal } from '../ItemModes/ItemTotal';\r\nimport { ItemCount } from '../ItemModes/ItemCount';\r\nimport { ItemDate } from '../ItemModes/ItemDate';\r\n\r\nexport const ItemListItem = ({item}) => {\r\n    const [checked, setChecked] = useState(item.status || false)\r\n    const [itemMenu, setItemMenu] = useState(false)\r\n\r\n    const { items, dispatch } = useContext(AppContext);\r\n    const listItems = [...items].filter(i => i.parent === item.id)\r\n\r\n    const nextId = () => items.reduce((id, i)=>( i.id > id ? i.id : id), 0) + 1\r\n\r\n    const handleChecked = (e) => {\r\n        const check = e.target.checked;\r\n        const listItem = item;\r\n        listItem.status = check;\r\n        dispatch({\r\n            type:'UPDATE_ITEM',\r\n            payload: listItem\r\n        });\r\n        setChecked(!checked)\r\n    }\r\n\r\n    const handleCopy = () =>{\r\n        let copy = {...item}\r\n        copy.id = nextId()\r\n        copy.index = listItems.length\r\n        copy.title = item.title + ' - copy'\r\n        dispatch({\r\n            type:'ADD_ITEM',\r\n            payload: copy\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch({\r\n            type:'DELETE_ITEM',\r\n            payload: item\r\n        });\r\n        setItemMenu(false)\r\n    }\r\n\r\n    let domMenu = useClickOutside(() => {\r\n        setItemMenu(false)\r\n    })\r\n\r\n    return (\r\n        <div className={styles.warp}>\r\n            {itemMenu && \r\n            <>\r\n                <div onClick={() => setItemMenu(false)} className={styles.underlay}></div>\r\n                <div ref={domMenu} className={`z-depth-5 ${styles.menuWrap}`}>\r\n                    <ul>\r\n                        <li><i onClick={() => setItemMenu(false)}className={`material-icons ${styles.icon}`}>close</i></li>\r\n                        <li onClick={handleCopy}>Copy</li>\r\n                        <li>Move</li>\r\n                        <li onClick={handleDelete}>Delete</li>\r\n                    </ul>\r\n                </div>\r\n            </>}\r\n            <div>\r\n                <label className={styles.checkBox}><input type=\"checkbox\" className=\"filled-in\" checked={checked} onChange={handleChecked} /><span></span></label>\r\n                <h6 className={styles.listItemHeading} style={checked ? {textDecoration:\"line-through\"} : {textDecoration:\"none\"}}><Link to={`/item/${item.id}`} as={`/item/${item.id}`}>{item.title}</Link></h6>\r\n                <i onClick={()=>setItemMenu(true)}  className={`material-icons right ${styles.iconHidden}`}>edit</i>\r\n                <ItemTotal item={item} />\r\n                <ItemCount item={item} />\r\n                <ItemDate  item={item} />            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}